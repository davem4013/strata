# ============================================================================
# STRATA Configuration
# ============================================================================
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to version control
# ============================================================================

# ----------------------------------------------------------------------------
# Database Configuration
# ----------------------------------------------------------------------------
DB_HOST=localhost
DB_PORT=5432
DB_NAME=strata
DB_USER=strata_user
DB_PASSWORD=changeme
DB_MIN_CONNECTIONS=1
DB_MAX_CONNECTIONS=10

# ----------------------------------------------------------------------------
# IBKR API Configuration
# ----------------------------------------------------------------------------
# Interactive Brokers TWS/Gateway connection
IBKR_HOST=127.0.0.1
IBKR_PORT=7497
IBKR_CLIENT_ID=1

# Use paper trading (1) or live (0)
IBKR_PAPER_TRADING=1

# ----------------------------------------------------------------------------
# Asset Configuration
# ----------------------------------------------------------------------------
# Comma-separated list of assets to track
ASSETS=GLD,QQQ,XRT,TLT,NVDA

# Comma-separated list of timescales
TIMESCALES=1h,4h,1d,1w,1m

# Active timescales for analysis (subset of TIMESCALES)
ACTIVE_TIMESCALES=1d,1w

# ----------------------------------------------------------------------------
# Analysis Parameters
# ----------------------------------------------------------------------------
# Number of periods to use for least squares regression
RESIDUAL_LOOKBACK_PERIODS=20

# Number of residuals to analyze for basin clustering
BASIN_CLUSTERING_WINDOW=100

# Basin boundary definition (number of standard deviations from center)
BOUNDARY_SIGMA=2.0

# ----------------------------------------------------------------------------
# Agreement & Disagreement Thresholds
# ----------------------------------------------------------------------------
# Agreement score below this triggers warnings (0.0 to 1.0)
AGREEMENT_THRESHOLD_LOW=0.5

# Directional divergence above this is critical (0.0 to 1.0)
DIRECTIONAL_DIVERGENCE_HIGH=0.7

# Cascade coherence minimum for upward propagation detection
CASCADE_COHERENCE_MIN=0.75

# Lag score below this indicates position detachment
POSITION_DETACH_LAG=0.25

# ----------------------------------------------------------------------------
# AI Model Configuration
# ----------------------------------------------------------------------------
# Router model identifier
MODEL_ROUTER=youtu_router

# Specialized head models (comma-separated)
MODEL_HEADS=head_vol,head_corr,head_temporal,head_stability

# Sentence embedding model for semantic similarity
EMBEDDING_MODEL=all-MiniLM-L6-v2

# Model API endpoint (if using external service)
# MODEL_API_URL=http://localhost:8000/api/v1

# Model API key (if required)
# MODEL_API_KEY=your_api_key_here

# ----------------------------------------------------------------------------
# Logging Configuration
# ----------------------------------------------------------------------------
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log file path (leave empty for stdout only)
LOG_FILE=

# Log format: simple, detailed, json
LOG_FORMAT=detailed

# ----------------------------------------------------------------------------
# Pipeline Configuration
# ----------------------------------------------------------------------------
# Pipeline run interval in seconds (for continuous mode)
PIPELINE_INTERVAL=3600

# Enable continuous mode (1) or single run (0)
PIPELINE_CONTINUOUS=0

# Backfill historical data on startup (1) or only process new data (0)
PIPELINE_BACKFILL=0

# Number of historical periods to backfill
PIPELINE_BACKFILL_PERIODS=100

# ----------------------------------------------------------------------------
# Alert Configuration
# ----------------------------------------------------------------------------
# Enable email alerts (1) or disable (0)
ALERTS_EMAIL_ENABLED=0

# Email configuration (if alerts enabled)
ALERTS_EMAIL_FROM=strata@example.com
ALERTS_EMAIL_TO=trader@example.com
ALERTS_EMAIL_SMTP_HOST=smtp.gmail.com
ALERTS_EMAIL_SMTP_PORT=587
ALERTS_EMAIL_SMTP_USER=your_email@gmail.com
ALERTS_EMAIL_SMTP_PASSWORD=your_app_password

# Minimum severity for alerts (0.0 to 1.0)
ALERTS_SEVERITY_THRESHOLD=0.7

# ----------------------------------------------------------------------------
# Development & Testing
# ----------------------------------------------------------------------------
# Enable mock IBKR data for testing without live connection
MOCK_IBKR_DATA=0

# Mock data random seed for reproducibility
MOCK_DATA_SEED=42

# Enable debug mode (additional logging, validation checks)
DEBUG_MODE=0
